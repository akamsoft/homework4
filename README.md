# Домашнее задание к занятию 4 «Оркестрация группой Docker контейнеров на примере Docker Compose»  

**Задача 1**

Ответ:  

https://hub.docker.com/r/alexkam75/custom-nginx

**Задача 2**

![Alt text](2/2.1.jpg)
![Alt text](2/2.2.jpg)
![Alt text](2/2.3.jpg)
![Alt text](2/2.4.jpg)

**Задача 3**

![Alt text](3/3.1-3.2.jpg)
![Alt text](3/3.3.jpg)

Контейнер остановился, потому что docker attach подключает к главному процессу контейнера. Нажатие Ctrl‑C обычно отправляет сигнал прерывания (SIGINT) в этот процесс. Если главный процесс завершился то Docker остановил контейнер, так как контейнер живёт ровно пока живёт его PID 1.

![Alt text](3/3.4-3.5.jpg)
![Alt text](3/3.6-3.7.jpg)
![Alt text](3/3.8.jpg)
![Alt text](3/3.8.1.jpg)
![Alt text](3/3.8.2.jpg)
![Alt text](3/3.8.jpg)
![Alt text](3/3.10.jpg)

Проброс порта Docker устроен так: хостовый порт 8080 проброшен на порт контейнера 80 (типично 127.0.0.1:8080 -> 80/tcp).
Поменял nginx внутри контейнера с listen 80 на listen 81, то есть nginx больше не принимает соединения на 80, поэтому запросы на http://127.0.0.1:8080 (которые попадают в контейнер на 80) ломаются.
Порт-мэппинг остался прежним (8080→80), а сервис переехал на 81.

![Alt text](3/3.11.jpg)
![Alt text](3/3.12.jpg)

